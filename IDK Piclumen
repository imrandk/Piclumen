function copyRelevantText(){let e=document.querySelector(".n-input__textarea-el");return e?e.value:""}function setText(e){let t=document.querySelector(".n-input__textarea-el");t&&(t.focus(),t.value="",setTimeout(()=>{t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0}))},5e3))}function handleButtonClickWithDelay(){let e=copyRelevantText();setTimeout(()=>{let t=document.querySelector("button.btn");t&&(t.click(),setTimeout(()=>setText(e),1e3))},2e3)}function checkForButton(){document.querySelector("button.btn")&&handleButtonClickWithDelay()}const observer=new MutationObserver(e=>{e.forEach(e=>{document.querySelector("button.btn")&&(handleButtonClickWithDelay(),observer.disconnect())})});observer.observe(document.body,{childList:!0,subtree:!0}),setInterval(checkForButton,2e3),checkForButton();const downloadedImages=new Set,downloadImages=async()=>{let e=document.querySelectorAll("div:nth-child(2) > div > .task-item > .grid img");for(let t=0;t<e.length;t++){let o=e[t].src;if(o&&!downloadedImages.has(o)){downloadedImages.add(o);try{let n=await fetch(o),l=await n.blob(),a=(o.match(/\d+/g)||[]).reduce((e,t)=>e.length>t.length?e:t,`image${t+1}`),c=`${a}.jpg`,r=URL.createObjectURL(l),d=document.createElement("a");d.href=r,d.download=c,d.click(),URL.revokeObjectURL(r)}catch(i){console.error(`Error downloading image ${t+1}:`,i),downloadedImages.delete(o)}}}};setInterval(downloadImages,5e3);
